%pour résoudre le problème "No room for a new dimen" et on le place en premier
\usepackage{etex}
%
%packages fondamentaux
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
%
%pour les symboles mathématiques
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathrsfs}
%\usepackage{latexsym}
%
\usepackage{mathtools}
\usepackage{bm}
\usepackage{esvect}
%Pour faire des maths en francais
%\usepackage{frmath}
%
%Pour utiliser les tableaux
\usepackage{array}
%
%fonte vectorielle
\usepackage{lmodern}
%
%paquet pour les liens hypertextes
\usepackage[colorlinks=true, linkcolor=black, urlcolor=black, pdftitle={Physique MPSI}, pdfauthor={FlorianMaillard}, breaklinks = true]{hyperref}
%
%Pour écrire de la physique avec les unités
%\usepackage{siunitx}
%
%Pour inclure des images avec \includegraphics[scale=]{}
\usepackage{graphics}
%
%Pour inclure des fichiers .ps ou .eps
\usepackage{pstricks-add}
%
%Pour dessiner avec Tikz
\usepackage{tikz, pgf}
\usetikzlibrary{arrows,calc,backgrounds}
\tikzset{math3d/.style={x={(-0.353cm,-0.353cm)}, z={(0cm,1cm)}, y={(1cm,0cm)}}}
%
% pour le symbole \danger
\usepackage{fourier-orns}
%
%pour utiliser les couleurs
\usepackage{color}
%
%pour utiliser "draft" (brouillon)
%\usepackage{draftcopy}
%
%pour renvoyer les notes à la fin
\usepackage{endnotes}
%
%pour les encadrements et les boites
\usepackage{fancybox}
%
%pour les boucles de programmation en \LaTeX
\usepackage{ifthen}
%
%Pour le placement de flottants avec FloatBarrier
\usepackage{placeins}
%
%Pour changer les titres de section
%\makeatletter
%	\renewcommand\section{\@startsection
%	{section}{2}{0mm}
%	{-\baselineskip}{0.5\baselineskip}
%	{\FloatBarrier\normalfont\Large\bfseries}}
%\makeatother
%
%
%Calculs arithmétique
%\usepackage{calc}
%
%Lettrines
\usepackage{lettrine}
%pour le symbole double crochet \rrbracket \llbracket
\usepackage{stmaryrd}
%pour les minitoc{}
\usepackage{minitoc}
\mtcselectlanguage{french}
%
%pour les tableaux de variations
\usepackage{variations}
%
%Pour la taille de la page
\usepackage{geometry}
\geometry{%
  a4paper,
  total={170mm,257mm},
  left=20mm,
  top=20mm,
}
%% entêtes et pieds de pages
%Entêtes et pieds de pages
\usepackage{fancyhdr}
\pagestyle{fancy}
%
\fancyhead{}
\fancyfoot{}
%
\renewcommand{\subsectionmark}[1]{%
  \ifsubsectioninheader
    \def\subsectiontitle{: #1}%
  \else
    \def\subsectiontitle{}%
  \fi}
\newif\ifsubsectioninheader
\def\subsectiontitle{}
\fancyhead[RO]{\nouppercase{\rightmark\ifsubsectioninheader\subsectiontitle\fi}}
%\fancyhead[RE]{MPSI F. M\bsc{aillard}}
\fancyhead[LE]{\nouppercase{\rightmark\ifsubsectioninheader\subsectiontitle\fi}}
%\fancyhead[LO]{MPSI F. M\bsc{aillard}}
\fancyfoot[LE]{\thepage}
\fancyfoot[RO]{\thepage}
%
%\setlength{\headheight}{15.36pt}
\setlength{\headheight}{13.6pt}
%
%pour inclure des pdf
\usepackage[final]{pdfpages}
%
%Pour l'interligne
%\linespread{1.1}
%
%texte en latin
%\usepackage{lipsum}
%
%pour creer un sommaire
\usepackage{shorttoc}
%
%pour écrire des arc géométriques
\usepackage{yhmath}
%
%pour les unités
\usepackage{siunitx}
%pour l'index
\usepackage{makeidx}
\makeindex
%
%pour les tableaux
\usepackage{tabularx}
%pour écrire les nombres
\usepackage{numprint}
%%pour les arcs
\usepackage{arcs}
%onchange le nom de la table
\renewcommand{\tablename}{\bsc{Tableau}}
%%%%%%%%%%%%%%%%%%%%%%% THM et STYLES %%%%%%%%%%%%%%%%%%%%%%
%
\theoremstyle{plain} \newtheorem{theo}{Théorème}[chapter]
%\newtheorem*{theo_etoile}{Théorème}
\newtheorem{lemme}{Lemme}[chapter]
\theoremstyle{definition} \newtheorem{defdef}{Définition}[chapter]
%\newtheorem{exercice}{Exercice}[chapter]
%\newtheorem*{defdef_etoile}{Définition}
\newtheorem{prop}{Proposition}[chapter]
\newtheorem{rappel}{Rappel}[chapter]
\newtheorem{proprietes}{Propriétés}[chapter]
\theoremstyle{plain} \newtheorem{cor}{Corollaire}[prop]
\newtheorem{corth}{Corollaire}[theo]
%
%%%%%%%%%%%%%%%%%%%%%%%% COMMANDES PERSOS %%%%%%%%%%%%%%%
%
\newcommand{\fonction}[5]{#1\colon \left\{\begin{array}{ccc}
#2 & \longrightarrow &#3\\
#4 & \longmapsto & #5
\end{array}
\right.
}
%nouveau raccourcis
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\K}{\mathbb{K}}
\renewcommand{\L}{\mathbb{L}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\ZZ}{\mathcal{Z}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\A}{\mathcal{A}}
\renewcommand{\S}{\mathcal{S}}
\renewcommand{\P}{\mathcal{P}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\Rep}{\mathcal{R}}
\newcommand{\Dr}{\mathcal{D}}
\newcommand{\Def}[1]{\Dr_{#1}}
\newcommand{\U}{\mathbb{U}}
\newcommand{\Part}{\mathfrak{P}}
\renewcommand{\H}{\mathcal{H}}
\newcommand{\E}{\mathcal{E}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\Gb}{\mathcal{G}}
\newcommand{\classe}[1]{\mathit{C}^#1}
\newcommand{\con}[1]{\mathcal{C}_#1}
\newcommand{\courbe}{\mathcal{C}}
\newcommand{\ve}{\vv{e}}
\newcommand{\vi}{\vv{i}}
\newcommand{\vj}{\vv{j}}
\newcommand{\vk}{\vv{k}}
\newcommand{\ex}{\vv{e}_x}
\newcommand{\ey}{\vv{e}_y}
\newcommand{\ez}{\vv{e}_z}
\newcommand{\er}{\vv{e}_r}
\newcommand{\etheta}{\vv{e}_{\theta}}
\newcommand{\vu}{\vv{u}}
\newcommand{\vvv}{\vv{v}}
\newcommand{\vw}{\vv{w}}
\newcommand{\vU}{\vv{U}}
\newcommand{\vV}{\vv{V}}
\newcommand{\vW}{\vv{W}}
\newcommand{\vz}{\vv{z}}
\newcommand{\vF}{\vv{F}}
\newcommand{\ux}{\vv{u_x}}
\newcommand{\uy}{\vv{u_y}}
\newcommand{\uz}{\vv{u_z}}
\newcommand{\ur}{\vv{u_r}}
\newcommand{\utheta}{\vv{u_{\theta}}}
\newcommand{\urho}{\vv{u_{\rho}}}
\newcommand{\vn}{\vv{n}}
\newcommand{\va}{\vv{a}}
\newcommand{\vb}{\vv{b}}
\newcommand{\vc}{\vv{c}}
\newcommand{\rond}{(O,\vi,\vj)}
\newcommand{\bond}{(\vi,\vj)}
\newcommand{\rondtrois}{(O,\vi,\vj,\vk)}
\newcommand{\bondtrois}{(\vi,\vj,\vk)}
\newcommand{\rondtroisu}{(\Omega,\vu,\vv,\vw)}
\newcommand{\Ell}{\mathcal{E}}
\renewcommand{\Re}{\mathfrak{Re}}
\renewcommand{\Im}{\mathfrak{Im}}
\newcommand{\Mom}[2]{\mathcal{M}_{#2/#1}}

%nouveaux opérateurs
\DeclareMathOperator{\sgn}{signe}% fonction signe
\DeclareMathOperator{\e}{e}% exponentielle
\DeclareMathOperator{\argch}{argcosh}% argument cosinus hyperbolique
\DeclareMathOperator{\argsh}{argsinh}% argument sinus hyperbolique
\DeclareMathOperator{\argth}{argtanh}% argument tangente hyperbolique
\DeclareMathOperator{\cotan}{cotan}% cotangente
\DeclareMathOperator{\sinc}{sinc}% sinus cardinal
\DeclareMathOperator{\Arg}{Arg}% argument principal
\DeclareMathOperator{\Det}{Det}% déterminant
\DeclareMathOperator{\cotanh}{coth}% cotangente hyperbolique
\DeclareMathOperator{\htan}{th}% tangente hyp
\DeclareMathOperator{\hcotan}{coth}% cotangente hyp
\DeclareMathOperator{\hsin}{sh}% sin hyp
\DeclareMathOperator{\hcos}{ch}% cos hyp
%
\newcommand{\cercle}[2]{\mathcal{C}(#1,#2)}% cercle
\newcommand{\congru}[3]{#1~\equiv~#2~\left[#3\right]}% congru
\newcommand{\ii}{\mathrm{i}}
\newcommand{\expc}[2]{#1 \e^{#2 \ii}}% exp complexe
\renewcommand{\bar}{\overline}
\newcommand{\Uv}{\vv{u}}
\newcommand{\V}{\vv{v}}
\newcommand{\W}{\vv{w}}
%% pour les dérivées
\newcommand{\D}{\mathrm{d}}

\newcommand{\derived}[2]{\dfrac{\D #1}{\D #2}}
\newcommand{\deriveds}[2]{\dfrac{\D^2 #1}{\D {#2}^2}}
\newcommand{\derivedn}[3]{\dfrac{\D^{#3} #1}{\D {#2}^{#3}}}
\newcommand{\derivep}[2]{\dfrac{\partial #1}{\partial #2}}
\newcommand{\deriveps}[2]{\dfrac{\partial^2 #1}{\partial {#2}^2}}
\newcommand{\derivepc}[3]{\dfrac{\partial^2 #1}{\partial {#2} \partial {#3}}}
%%
\newcommand\Hrule{\noindent \rule[0mm]{\linewidth}{0.5pt}}

\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\norme}[1]{\left\lVert#1\right\rVert}
\newcommand{\diff}{\mathop{}\mathopen{}\D}

\newcommand{\vg}{\vv{g}}

\newcommand{\intervalle}[4]{\mathopen{#1}#2\mathclose{}\mathpunct{};#3\mathclose{#4}}
\newcommand{\pv}{\ensuremath{\, ; }}
\newcommand{\intervalleff}[2]{\ensuremath{\left[ #1 \pv #2 \right]}}%{\intervalle{[}{#1}{#2}{]}}
\newcommand{\intervalleof}[2]{\ensuremath{\left] #1 \pv #2 \right]}}%{\intervalle{]}{#1}{#2}{]}}
\newcommand{\intervallefo}[2]{\ensuremath{\left[ #1 \pv #2 \right[}}%{\intervalle{[}{#1}{#2}{[}}
\newcommand{\intervalleoo}[2]{\ensuremath{\left] #1 \pv #2 \right[}}%{\intervalle{]}{#1}{#2}{[}}
\newcommand{\intervalleentier}[2]{\intervalle\llbracket{#1}{#2}\rrbracket}

\newcommand{\ju}{{j\mkern1mu}}
\newcommand{\iu}{{i\mkern1mu}}
\newcommand{\ncomplexe}[1]{\underline{#1}}
\newcommand{\Uc}{\ncomplexe{U}}
\newcommand{\Vitc}{\ncomplexe{V}}
\newcommand{\vitc}{\ncomplexe{v}}
\newcommand{\Ic}{\ncomplexe{I}}
\newcommand{\uc}{\ncomplexe{u}}
\newcommand{\ec}{\ncomplexe{e}}
\newcommand{\Ec}{\ncomplexe{E}}
\newcommand{\ic}{\ncomplexe{i}}
\newcommand{\Zc}{\ncomplexe{Z}}
\newcommand{\zc}{\ncomplexe{z}}
\newcommand{\Yc}{\ncomplexe{Y}}
\newcommand{\yc}{\ncomplexe{y}}
\newcommand{\Xc}{\ncomplexe{X}}
\newcommand{\xc}{\ncomplexe{x}}
\newcommand{\pc}{\ncomplexe{p}}
\newcommand{\Hc}{\ncomplexe{H}}
\newcommand{\Fc}{\ncomplexe{F}}
\newcommand{\fc}{\ncomplexe{f}}

\newcommand{\Vcc}{\textrm{Vcc}}
%%pour la profondeur des sections, sous sections, ...

% \setcounter{secnumdepth}{3}
% \setcounter{tocdepth}{3}

%pour modifier l'apprence de la sectino, subsection,...
% \makeatletter
% \renewcommand{\thesection}{\@Roman\c@section}
% \makeatother
% \makeatletter
% \renewcommand{\thesubsubsection}{\alph{subsubsection}}
% \makeatother

%\addtolength{\oddsidemargin}{-1cm}
%\addtolength{\evensidemargin}{-1cm}
\newcounter{exercice}
\counterwithin*{exercice}{chapter}
\newenvironment{exercice}[1][]{%
\stepcounter{exercice}%
\par\vspace{5pt}\noindent
\shadowbox{\textbf{Exercice~\thechapter.\theexercice~\textit{#1}}}%
\hrulefill\par\vspace{10pt}\noindent\rmfamily}%
{\par\noindent\hrulefill\vrule width10pt height2pt depth2pt\par}
%
